import{d as T}from"./index.CQrDriHR.js";import{r as j}from"./scheduler.CNzAINQ-.js";import{H as k}from"./control.C7uy2HLq.js";function D(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function F(n,f){n.d(1),f.delete(n.key)}function G(n,f,x,q,E,y,h,H,g,S,o,A){let c=n.length,d=y.length,i=c;const u={};for(;i--;)u[n[i].key]=i;const w=[],a=new Map,m=new Map,M=[];for(i=d;i--;){const e=A(E,y,i),s=x(e);let t=h.get(s);t?M.push(()=>t.p(e,f)):(t=S(s,e),t.c()),a.set(s,w[i]=t),s in u&&m.set(s,Math.abs(i-u[s]))}const r=new Set,v=new Set;function p(e){T(e,1),e.m(H,o),h.set(e.key,e),o=e.first,d--}for(;c&&d;){const e=w[d-1],s=n[c-1],t=e.key,l=s.key;e===s?(o=e.first,c--,d--):a.has(l)?!h.has(t)||r.has(t)?p(e):v.has(l)?c--:m.get(t)>m.get(l)?(v.add(t),p(e)):(r.add(l),c--):(g(s,h),c--)}for(;c--;){const e=n[c];a.has(e.key)||g(e,h)}for(;d;)p(w[d-1]);return j(M),w}function I(n,f){return new k(n,f)}new TextEncoder;export{D as a,F as d,I as e,G as u};
